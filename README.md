# Flask API 应用模板

## 目录结构说明

1. main.py 是程序入口文件，flask run 之前要设置环境变量 `FLASK_APP=main.py`
2. config.py 是项目配置文件
3. raw 目录存放一些资源，比如用户上传的头像、商品图片等之类的。
4. `git commit` 时会跳过空目录，raw 目录里的 .gitkeep 文件的作用仅仅是防止 raw 被跳过
5. `app/model.py` 存放所有与数据库相关的代码
6. `app/email.py` 存放所有与邮件相关的代码
7. `app/api` 目录存放所有路由及对应函数

## 命名约定

1. 类名：大驼峰式（各单词首字母大写，没有下划线）。如：User，UserInfo
2. 函数名：小驼峰式（第一个单词全小写，其他单词首字母大写，没有下划线）。如：getUserInfo
3. 变量名：全小写，各单词间加下划线。如：user_info
4. 常量名：全大写，各单词间加下划线。如：MYSQL_PASSWORD
5. URL：与变量名相同，且不包含动词

## 其他约定

1. 前后端统一用 JSON 格式进行数据交互。
2. 用户上传的图片、文件等，应该先计算其 MD5，然后将该 MD5 作为文件名，防止存放时文件名冲突，原文件名存入数据库。另外，每天的文件应该存在按日期命名的目录中。
3. `app/api` 目录中的代码要根据功能放在不同的文件中，且只放路由函数。工具函数放在 `utils.py` 中。
4. 由于在注册 api 蓝图时，指定了 `url_prefix='/api'`，所以所有 url 都会自动加上 `/api` 前缀。
